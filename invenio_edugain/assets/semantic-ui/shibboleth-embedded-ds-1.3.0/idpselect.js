function IdPSelectLanguages(){this.langBundles={en:{"fatal.divMissing":'<div> specified  as "insertAtDiv" could not be located in the HTML',"fatal.noXMLHttpRequest":"Browser does not support XMLHttpRequest, unable to load IdP selection data","fatal.wrongProtocol":'Policy supplied to DS was not "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId supplied by SP did not match configuration","fatal.noData":"Metadata download returned no data","fatal.loadFailed":"Failed to download metadata from ","fatal.noparms":"No parameters to discovery session and no defaultReturn parameter configured","fatal.noReturnURL":"No URL return parameter provided","fatal.badProtocol":"Return parameter must start with https:// or http://","fatal.badReturnString":"Return parameter is not whitelisted","idpPreferred.label":"Use a suggested selection:","idpEntry.label":"Or enter your organization's name","idpEntry.NoPreferred.label":"Enter your organization's name","idpList.label":"Or select your organization from the list below","idpList.NoPreferred.label":"Select your organization from the list below","idpList.defaultOptionLabel":"Please select your organization...","idpList.showList":"Allow me to pick from a list","idpList.showSearch":"Allow me to specify the site","submitButton.label":"Continue",helpText:"Help",defaultLogoAlt:"DefaultLogo","autoFollow.message":"Always follows this selection","autoFollow.never":"Never","autoFollow.time0":"One day","autoFollow.time1":"3 months","autoFollow.time2":"9 months"},de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterst\u00fctzt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.noData":"Heruntergeladene Metadata waren leer","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter f\u00fcr das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parmeter fehlt","fatal.badProtocol":"return Request muss mit https:// oder http:// beginnen","fatal.badReturnString":"Return Parameter ist nicht auf Positivliste enthalten","idpPreferred.label":"Vorherige Auswahl:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) an:","idpEntry.NoPreferred.label":"Namen (oder Teile davon) der Institution angeben:","idpList.label":"Oder w\u00e4hlen Sie Ihre Institution aus einer Liste:","idpList.NoPreferred.label":"Institution aus folgender Liste w\u00e4hlen:","idpList.defaultOptionLabel":"W\u00e4hlen Sie Ihre Institution aus...","idpList.showList":"Institution aus einer Liste w\u00e4hlen","idpList.showSearch":"Institution selbst angeben","submitButton.label":"OK",helpText:"Hilfe",defaultLogoAlt:"Standard logo","autoFollow.message":"Auswahl merken und diesen Dialog nicht mehr anzeigen","autoFollow.never":"Nicht merken","autoFollow.time0":"Nur f\u00fcr Heute","autoFollow.time1":"Drei Monate lang","autoFollow.time2":"Neun Monate lang"},ja:{"fatal.divMissing":'"insertAtDiv" の ID を持つ <div> が HTML 中に存在しません',"fatal.noXMLHttpRequest":"ブラウザが XMLHttpRequest をサポートしていないので IdP 情報を取得できません","fatal.wrongProtocol":'DSへ渡された Policy パラメータが "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single" ではありません',"fatal.wrongEntityId":"SP から渡された entityId が設定値と異なります","fatal.noData":"メタデータが空です","fatal.loadFailed":"次の URL からメタデータをダウンロードできませんでした: ","fatal.noparms":"DSにパラメータが渡されておらず defaultReturn も設定されていません","fatal.noReturnURL":"戻り URL が指定されていません","fatal.badProtocol":"戻り URL は https:// か http:// で始まらなければなりません","idpPreferred.label":"選択候補の IdP:","idpEntry.label":"もしくはあなたの所属機関名を入力してください","idpEntry.NoPreferred.label":"あなたの所属機関名を入力してください","idpList.label":"もしくはあなたの所属機関を選択してください","idpList.NoPreferred.label":"あなたの所属機関を一覧から選択してください","idpList.defaultOptionLabel":"所属機関を選択してください...","idpList.showList":"一覧から選択する","idpList.showSearch":"機関名を入力する","submitButton.label":"選択","autoFollow.message":"次の期間選択した機関に自動的に遷移する:","autoFollow.never":"自動遷移しない","autoFollow.time0":"1日","autoFollow.time1":"3か月","autoFollow.time2":"9か月","fatal.badReturnString":"戻り URL が不正です",helpText:"ヘルプ",defaultLogoAlt:"ロゴ未設定"},"pt-br":{"fatal.divMissing":'A tag <div> com "insertAtDiv" não foi encontrada no arquivo HTML',"fatal.noXMLHttpRequest":'Seu navegador não suporta "XMLHttpRequest", impossível de carregador os dados do IdP selecionado',"fatal.wrongProtocol":'A política "Policy" fornecida para o DS não foi "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId oferecido pelo SP não confere com o da configuração","fatal.noData":"O arquivo de metadados não retornou nada;","fatal.loadFailed":"Falhou ao realizar download do metadado de ","fatal.noparms":'Sem parâmetros para sessão de descoberta e sem parâmetro "defaultReturn" configurado',"fatal.noReturnURL":"Não foi definida um endereço (URL) de retorno no parâmetro","fatal.badProtocol":"Retorno do endereço requisitado deve começar com https:// ou http://","idpPreferred.label":"Use estas Instituições sugeridas: ","idpEntry.label":"Ou informe o nome da sua Instituição","idpEntry.NoPreferred.label":"Informe o nome da sua Instituição","idpList.label":"Ou selecione sua Instituição através da lista abaixo","idpList.NoPreferred.label":"Selecione sua Instituição através da lista abaixo","idpList.defaultOptionLabel":"Por favor, selecione sua Instituição: ","idpList.showList":"Permitir que eu escolha um IdP através de uma lista","idpList.showSearch":"Permitir que eu especifique o IdP","submitButton.label":"Continuar ",helpText:"Ajuda",defaultLogoAlt:"Logo padrão"}}}function TypeAheadControl(l,f,j,g,i,b,h,e,a,c,d,k){this.elementList=l;this.textBox=f;this.origin=j;this.submit=g;this.results=0;this.alwaysShow=c;this.maxResults=d;this.ie6hack=a;this.maxchars=i;this.getName=b;this.getEntityId=h;this.geticon=e;this.getKeywords=k}TypeAheadControl.prototype.draw=function(b){var a=this;this.dropDown=document.createElement("ul");this.dropDown.className="IdPSelectDropDown";this.dropDown.style.visibility="hidden";this.dropDown.style.width=this.textBox.offsetWidth;this.dropDown.current=-1;this.textBox.setAttribute("role","listbox");document.body.appendChild(this.dropDown);this.textBox.setAttribute("role","combobox");this.textBox.setAttribute("aria-controls","IdPSelectDropDown");this.textBox.setAttribute("aria-owns","IdPSelectDropDown");this.dropDown.onmouseover=function(c){if(!c){c=window.event}var d;if(c.target){d=c.target}if(typeof d=="undefined"){d=c.srcElement}a.select(d)};this.dropDown.onmousedown=function(c){if(-1!=a.dropDown.current){a.textBox.value=a.results[a.dropDown.current][0]}};this.textBox.onkeyup=function(c){if(!c){c=window.event}a.handleKeyUp(c)};this.textBox.onkeydown=function(c){if(!c){c=window.event}a.handleKeyDown(c)};this.textBox.onblur=function(){a.hideDrop()};this.textBox.onfocus=function(){a.handleChange()};if(null==b||b){this.textBox.focus()}};TypeAheadControl.prototype.getPossible=function(b){var h=[];var j=0;var f=0;var e=0;var g;var i;b=b.toLowerCase();while(f<=this.maxResults&&j<this.elementList.length){var a=false;var c=this.getName(this.elementList[j]);if(c.toLowerCase().indexOf(b)!=-1){a=true}if(!a&&this.getEntityId(this.elementList[j]).toLowerCase().indexOf(b)!=-1){a=true}if(!a){var d=this.getKeywords(this.elementList[j]);if(null!=d&&d.toLowerCase().indexOf(b)!=-1){a=true}}if(a){h[f]=[c,this.getEntityId(this.elementList[j]),this.geticon(this.elementList[j])];f++}j++}this.dropDown.current=-1;return h};TypeAheadControl.prototype.handleKeyUp=function(b){var a=b.keyCode;if(27==a){this.textBox.value="";this.handleChange()}else{if(8==a||32==a||(a>=46&&a<112)||a>123){this.handleChange()}}};TypeAheadControl.prototype.handleKeyDown=function(b){var a=b.keyCode;if(38==a){this.upSelect()}else{if(40==a){this.downSelect()}}};TypeAheadControl.prototype.hideDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="visible";a++}}this.dropDown.style.visibility="hidden";this.textBox.setAttribute("aria-expanded","false");if(-1==this.dropDown.current){this.doUnselected()}};TypeAheadControl.prototype.showDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="hidden";a++}}this.dropDown.style.visibility="visible";this.dropDown.style.width=this.textBox.offsetWidth+"px";this.textBox.setAttribute("aria-expanded","true")};TypeAheadControl.prototype.doSelected=function(){this.submit.disabled=false};TypeAheadControl.prototype.doUnselected=function(){this.submit.disabled=true;this.textBox.setAttribute("aria-activedescendant","")};TypeAheadControl.prototype.handleChange=function(){var b=this.textBox.value;var a=this.getPossible(b);if(0===b.length||0===a.length||(!this.alwaysShow&&this.maxResults<a.length)){this.hideDrop();this.doUnselected();this.results=[];this.dropDown.current=-1}else{this.results=a;this.populateDropDown(a);if(1==a.length){this.select(this.dropDown.childNodes[0]);this.doSelected()}else{this.doUnselected()}}};TypeAheadControl.prototype.populateDropDown=function(d){this.dropDown.innerHTML="";var c=0;var a;var b;var f;while(c<d.length){a=document.createElement("li");a.id="IdPSelectOption"+c;f=d[c][0];if(null!==d[c][2]){b=document.createElement("img");b.src=d[c][2];b.width=16;b.height=16;b.alt="";a.appendChild(b);if(f.length>this.maxchars-2){f=f.substring(0,this.maxchars-2)}f=" "+f}else{if(f.length>this.maxchars){f=f.substring(0,this.maxchars)}}a.appendChild(document.createTextNode(f));a.setAttribute("role","option");this.dropDown.appendChild(a);c++}var e=this.getXY();this.dropDown.style.left=e[0]+"px";this.dropDown.style.top=e[1]+"px";this.showDrop()};TypeAheadControl.prototype.getXY=function(){var a=this.textBox;var c=0;var b=a.offsetHeight;while(a.tagName!="BODY"){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}c+=a.offsetLeft;b+=a.offsetTop;return[c,b]};TypeAheadControl.prototype.select=function(b){var a=0;var c;this.dropDown.current=-1;this.doUnselected();while(a<this.dropDown.childNodes.length){c=this.dropDown.childNodes[a];if(c==b){c.className="IdPSelectCurrent";c.setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+a);this.doSelected();this.dropDown.current=a;this.origin.value=this.results[a][1];this.origin.textValue=this.results[a][0]}else{c.setAttribute("aria-selected","false");c.className=""}a++}this.textBox.focus()};TypeAheadControl.prototype.downSelect=function(){if(this.results.length>0){if(-1==this.dropDown.current){this.dropDown.current=0;this.dropDown.childNodes[0].className="IdPSelectCurrent";this.dropDown.childNodes[0].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+0);this.doSelected();this.origin.value=this.results[0][1];this.origin.textValue=this.results[0][0]}else{if(this.dropDown.current<(this.results.length-1)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current++;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}}}};TypeAheadControl.prototype.upSelect=function(){if((this.results.length>0)&&(this.dropDown.current>0)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current--;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}};function IdPSelectUI(){var s;var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var aL;var T;var aC;var ao;var ab;var d;var G;var o;var z;var k;var ax;var g;var u;var ac;var ai;var E;var ah;var S;var h;var L;var aD;var av;var O;var U;var am;var ay;var ar;var c;var ag;var H;var R;var aa;var l;var Q;var V;var j;var aA;var W;var aN="idpSelect";var ak="IdPSelect";var at;var C="";var Z="";var aB=[];var aI="entityID";this.draw=function(aR){aL=document.getElementById(aR.insertAtDiv);if(!n(aR)){return}if(!aL){P(B("fatal.divMissing"));return}if((null!=R)&&(null!=i(R))){var aO=b();if(aO.length!=0){var aQ=aI+"="+encodeURIComponent(aO[0]);if(C.indexOf("?")==-1){aQ="?"+aQ}else{aQ="&"+aQ}r(aL,C+aQ);return}}if(!f(aR.dataSource)){return}aM();v(aR.hiddenIdPs);s.sort(function(aT,aS){return aG(aT).localeCompare(aG(aS))});var aP=ad();aL.appendChild(aP);at.draw(aR.setFocusTextBox)};var n=function(aV){var aP;E=aV.preferredIdP;ah=aV.maxPreferredIdPs;S=aV.helpURL;h=aV.ie6Hack;L=aV.samlIdPCookieTTL;aD=aV.samlIdPCookieProps;am=aV.alwaysShow;ay=aV.maxResults;ar=aV.ignoreKeywords;if(aV.showListFirst){c=aV.showListFirst}else{c=false}if(aV.noWriteCookie){ag=aV.noWriteCookie}else{ag=false}if(aV.ignoreURLParams){H=aV.ignoreURLParams}else{H=false}G=aV.defaultLogo;o=aV.defaultLogoWidth;z=aV.defaultLogoHeight;k=aV.minWidth;ax=aV.minHeight;g=aV.maxWidth;u=aV.maxHeight;ac=aV.bestRatio;if(null==aV.doNotCollapse){ai=true}else{ai=aV.doNotCollapse}O=aV.maxIdPCharsButton;av=aV.maxIdPCharsDropDown;U=aV.maxIdPCharsAltTxt;R=aV.autoFollowCookie;aa=aV.autoFollowCookieTTLs;l=aV.autoFollowCookieProps;var a5;if(aV.selectedLanguage!=null){a5=aV.selectedLanguage}else{if(typeof navigator=="undefined"){a5=aV.defaultLanguage}else{a5=navigator.language||navigator.userLanguage||aV.defaultLanguage}}a5=a5.toLowerCase();if(a5.indexOf("-")>0){aC=a5.substring(0,a5.indexOf("-"))}else{aC=a5}var aZ=new IdPSelectLanguages();ao=aV.defaultLanguage;if(typeof aV.langBundles!="undefined"&&typeof aV.langBundles[a5]!="undefined"){ab=aV.langBundles[a5]}else{if(typeof aZ.langBundles[a5]!="undefined"){ab=aZ.langBundles[a5]}else{if(typeof aC!="undefined"){if(typeof aV.langBundles!="undefined"&&typeof aV.langBundles[aC]!="undefined"){ab=aV.langBundles[aC]}else{if(typeof aZ.langBundles[aC]!="undefined"){ab=aZ.langBundles[aC]}}}}}if(typeof aV.langBundles!="undefined"&&typeof aV.langBundles[aV.defaultLanguage]!="undefined"){d=aV.langBundles[aV.defaultLanguage]}else{d=aZ.langBundles[aV.defaultLanguage]}if(!d){P("No languages work");return false}if(!ab){t("No language support for "+a5);ab=d}if(aV.testGUI){return true}var a0="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single";var a3;var a4=false;var aT;var aW;var aS=window;while(null!==aS.parent&&aS!==aS.parent){aS=aS.parent}var aY=aS.location;var aU=aY.search;if(H||null==aU||0==aU.length||aU.charAt(0)!="?"){if((null==aV.defaultReturn)&&!H){P(B("fatal.noparms"));return false}aP=aV.myEntityID;C=aV.defaultReturn;if(null!=aV.defaultReturnIDParam){aI=aV.defaultReturnIDParam}}else{aU=aU.substring(1);aT=aU.split("&");if(aT.length===0){P(B("fatal.noparms"));return false}for(a3=0;a3<aT.length;a3++){aW=aT[a3].split("=");if(aW.length!=2){continue}if(aW[0]=="entityID"){aP=decodeURIComponent(aW[1])}else{if(aW[0]=="return"){C=decodeURIComponent(aW[1])}else{if(aW[0]=="returnIDParam"){aI=decodeURIComponent(aW[1])}else{if(aW[0]=="policy"){a0=decodeURIComponent(aW[1])}else{if(aW[0]=="isPassive"){a4=(aW[1].toUpperCase()=="TRUE")}}}}}}}var aO;if(null==aV.allowableProtocols){aO=["urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"]}else{aO=aV.allowableProtocols}var a2=false;for(var a3=0;a3<aO.length;a3++){var a1=aO[a3];if(a0==a1){a2=true;break}}if(!a2){P(B("fatal.wrongProtocol"));return false}if(aV.myEntityID!==null&&aV.myEntityID!=aP){P(B("fatal.wrongEntityId")+'"'+aP+'" != "'+aV.myEntityID+'"');return false}if(null===C||C.length===0){P(B("fatal.noReturnURL"));return false}if(!ap(C)){P(B("fatal.badProtocol"));return false}if(!e(aV.redirectAllow,C)){af(B("fatal.badReturnString"));return false}if(!e(aV.returnWhiteList,C)){af(B("fatal.badReturnString"));return false}if(a4){var aR=b();var aX=document.getElementById(aV.insertAtDiv);if(aR.length==0){r(aX,C);return false}else{var aQ=aI+"="+encodeURIComponent(aR[0]);if(C.indexOf("?")==-1){aQ="?"+aQ}else{aQ="&"+aQ}r(aX,C+aQ);return false}}a3=C.indexOf("?");if(a3<0){Z=C;return true}Z=C.substring(0,a3);aU=C.substring(a3+1);aT=aU.split("&");for(a3=0;a3<aT.length;a3++){aW=aT[a3].split("=");if(aW.length!=2){continue}aW[1]=decodeURIComponent(aW[1]);aB.push(aW)}return true};var aM=function(){var aQ=[];var aP;for(aP=0;aP<s.length;){var aO=A(s[aP]);if(null==aQ[aO]){aQ[aO]=aO;aP=aP+1}else{s.splice(aP,1)}}};var v=function(aQ){if(null==aQ||0==aQ.length){return}var aP;var aO;for(aP=0;aP<aQ.length;aP++){for(aO=0;aO<s.length;aO++){if(A(s[aO])==aQ[aP]){s.splice(aO,1);break}}}};var ap=function(aP){if(null===aP){return false}var aO="://";var aQ=aP.indexOf(aO);if(aQ<0){return false}aP=aP.substring(0,aQ);if(aP=="http"||aP=="https"){return true}return false};var e=function(aO,aP){if(null==aO){return true}for(var aQ=0;aQ<aO.length;aQ++){var aR=new RegExp(aO[aQ]);if(aR.test(aP)){return true}}return false};var aK=function(){if(null==navigator){return false}var aO=navigator.appName;if(null==aO){return false}return(aO=="Microsoft Internet Explorer")};var r=function(aP,aQ){var aO=document.createElement("a");aO.href=aQ;aP.appendChild(aO);aO.click()};var f=function(aR){var aQ=null;try{aQ=new XMLHttpRequest()}catch(aP){}if(null==aQ){try{aQ=new ActiveXObject("Microsoft.XMLHTTP")}catch(aP){}}if(null==aQ){try{aQ=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(aP){}}if(null==aQ){P(B("fatal.noXMLHttpRequest"));return false}if(aK()){aR+="?random="+(Math.random()*1000000)}aQ.open("GET",aR,false);if(typeof aQ.overrideMimeType=="function"){aQ.overrideMimeType("application/json")}aQ.send(null);if(aQ.status==200){var aO=aQ.responseText;if(aO===null){P(B("fatal.noData"));return false}s=JSON.parse(aO)}else{P(B("fatal.loadFailed")+aR);return false}return true};var ae=function(aO){for(var aP=0;aP<s.length;aP++){if(A(s[aP])==aO){return s[aP]}}return null};var I=function(aV,aP){var aU=function(aY){var aW=null;var aX;if(null==aV.Logos){return null}for(aX in aV.Logos){if(aV.Logos[aX].lang==aY&&aV.Logos[aX].width!=null&&aV.Logos[aX].width>=k&&aV.Logos[aX].height!=null&&aV.Logos[aX].height>=ax){if(aW===null){aW=aV.Logos[aX]}else{me=Math.abs(ac-Math.log(aV.Logos[aX].width/aV.Logos[aX].height));him=Math.abs(ac-Math.log(aW.width/aW.height));if(him>me){aW=aV.Logos[aX]}}}}return aW};var aR=null;var aQ=document.createElement("img");an(aQ,"IdPImg");aR=aU(T);if(null===aR&&typeof aC!="undefined"){aR=aU(aC)}if(null===aR){aR=aU(null)}if(null===aR){aR=aU(ao)}if(null===aR){if(!aP){return null}aQ.src=G;aQ.width=o;aQ.height=z;aQ.alt=B("defaultLogoAlt");return aQ}aQ.src=aR.value;var aS=aG(aV);if(aS.length>U){aS=aS.substring(0,U)+"..."}aQ.alt=aS;var aO=aR.width;var aT=aR.height;if(aO>g){aT=(g/aO)*aT;aO=g}if(aT>u){aO=(u/aT)*aO;aT=u}aQ.setAttribute("width",aO);aQ.setAttribute("height",aT);return aQ};var ad=function(){var aP=aq("IdPSelector");var aO;aO=aE(aP);p(aP,aO);Y(aP,aO);if(null!=R){D(aP)}return aP};var N=function(aQ,aX,aP){var aO=aq(undefined,"PreferredIdPButton");var aW=document.createElement("a");var aV=aI+"="+encodeURIComponent(A(aQ));var aR=C;var aT=I(aQ,aP);if(aR.indexOf("?")==-1){aV="?"+aV}else{aV="&"+aV}aW.href=aR+aV;aW.onclick=function(){aJ(A(aQ))};if(null!=aT){var aY=aq(undefined,"PreferredIdPImg");aY.appendChild(aT);aW.appendChild(aY)}var aU=aq(undefined,"TextDiv");var aS=aG(aQ);if(aS.length>O){aS=aS.substring(0,O)+"..."}aO.title=aS;aU.appendChild(document.createTextNode(aS));aW.appendChild(aU);aO.appendChild(aW);return aO};var aH=function(aO,aR){var aQ=aq(undefined,"TextDiv");var aP=document.createTextNode(B(aR));aQ.appendChild(aP);aO.appendChild(aQ)};var a=function(aO,aQ){if(null===aQ||0===aQ.length||"-"==aQ.value){return}var aP=0;while(aP<aO.options.length){if(aO.options[aP].value==aQ){aO.options[aP].selected=true;break}aP++}};var aE=function(aT){var aS=M();if(0===aS.length){return false}var aO=ai;for(var aQ=0;aQ<ah&&aQ<aS.length;aQ++){if(aS[aQ]&&I(aS[aQ],false)){aO=true}}var aR;if(aO){aR=aq("PreferredIdPTile")}else{aR=aq("PreferredIdPTileNoImg")}aH(aR,"idpPreferred.label");for(var aQ=0;aQ<ah&&aQ<aS.length;aQ++){if(aS[aQ]){var aP=N(aS[aQ],aQ,aO);aR.appendChild(aP)}}aT.appendChild(aR);return true};var aj=function(){var aP=document.createElement("form");V.appendChild(aP);aP.action=Z;aP.method="GET";aP.setAttribute("autocomplete","OFF");var aO=0;for(aO=0;aO<aB.length;aO++){var aQ=document.createElement("input");aQ.setAttribute("type","hidden");aQ.name=aB[aO][0];aQ.value=aB[aO][1];aP.appendChild(aQ)}return aP};var p=function(aV,aP){V=aq("IdPEntryTile");if(c){V.style.display="none"}var aQ=document.createElement("label");aQ.setAttribute("for",aN+"Input");if(aP){aH(aQ,"idpEntry.label")}else{aH(aQ,"idpEntry.NoPreferred.label")}var aT=aj();aT.appendChild(aQ);var aS=document.createElement("input");aT.appendChild(aS);aS.type="text";m(aS,"Input");var aU=document.createElement("input");aU.setAttribute("type","hidden");aT.appendChild(aU);aU.name=aI;aU.value="-";var aR=w("Select");aR.disabled=true;aT.appendChild(aR);aT.onsubmit=function(){if(null===aU.value||0===aU.value.length||"-"==aU.value){return false}aS.value=aU.textValue;aJ(aU.value);return true};at=new TypeAheadControl(s,aS,aU,aR,av,aG,A,al,h,am,ay,J);var aO=document.createElement("a");aO.appendChild(document.createTextNode(B("idpList.showList")));aO.href="#";an(aO,"DropDownToggle");aO.onclick=function(){V.style.display="none";a(aA,aU.value);j.style.display="";W.focus();return false};V.appendChild(aO);y(V);aV.appendChild(V)};var Y=function(aO,aR){j=aq("IdPListTile");if(!c){j.style.display="none"}var aV=document.createElement("label");aV.setAttribute("for",aN+"Selector");if(aR){aH(aV,"idpList.label")}else{aH(aV,"idpList.NoPreferred.label")}aA=document.createElement("select");m(aA,"Selector");aA.name=aI;j.appendChild(aA);var aW=q("-",B("idpList.defaultOptionLabel"));aW.selected=true;aA.appendChild(aW);var aQ;for(var aS=0;aS<s.length;aS++){aQ=s[aS];aW=q(A(aQ),aG(aQ));aA.appendChild(aW)}var aP=aj();aP.appendChild(aV);aP.appendChild(aA);aP.onsubmit=function(){if(aA.selectedIndex<1){return false}aJ(aA.options[aA.selectedIndex].value);return true};var aT=w("List");W=aT;aP.appendChild(aT);j.appendChild(aP);var aU=document.createElement("a");aU.appendChild(document.createTextNode(B("idpList.showSearch")));aU.href="#";an(aU,"DropDownToggle");aU.onclick=function(){V.style.display="";j.style.display="none";return false};j.appendChild(aU);y(j);aO.appendChild(j)};var D=function(aR){var aP="IdPSelectAutoDisp";autoDispatchTile=aq(undefined,"autoDispatchArea");autoDispatchTile.setAttribute("role","radiogroup");autoDispatchTile.setAttribute("aria-label",B("autoFollow.message"));autoDispatchTile.appendChild(document.createTextNode(B("autoFollow.message")));var aO=document.createElement("input");aO.setAttribute("type","radio");aO.setAttribute("role","radio");aO.setAttribute("checked","checked");aO.setAttribute("name",aP);aO.setAttribute("aria-label",B("autoFollow.never"));aO.setAttribute("aria-checked","aria-checked");aO.onclick=function(){F(0)};div=aq(undefined,"autoDispatchTile");div.appendChild(aO);div.appendChild(document.createTextNode(B("autoFollow.never")));autoDispatchTile.appendChild(div);var aQ;for(aQ=0;aQ<aa.length;aQ++){aO=document.createElement("input");aO.setAttribute("type","radio");aO.setAttribute("role","radio");aO.setAttribute("name",aP);aO.setAttribute("aria-label",B("autoFollow.time"+aQ));aO.life=aa[aQ];aO.onclick=function(){var aS=this.life;F(aS)};div=aq(undefined,"autoDispatchTile");div.appendChild(aO);div.appendChild(document.createTextNode(B("autoFollow.time"+aQ)));autoDispatchTile.appendChild(div)}aR.appendChild(autoDispatchTile)};var w=function(aP){var aO=document.createElement("input");aO.setAttribute("type","submit");aO.value=B("submitButton.label");m(aO,aP+"Button");return aO};var y=function(aP){var aO=document.createElement("a");aO.href=S;aO.appendChild(document.createTextNode(B("helpText")));an(aO,"HelpButton");aP.appendChild(aO)};var aq=function(aQ,aO){var aP=document.createElement("div");if(undefined!==aQ){m(aP,aQ)}if(undefined!==aO){an(aP,aO)}return aP};var q=function(aP,aQ){var aO=document.createElement("option");aO.value=aP;if(aQ.length>av){aQ=aQ.substring(0,av)}aO.appendChild(document.createTextNode(aQ));return aO};var m=function(aP,aO){aP.id=aN+aO};var an=function(aP,aO){aP.setAttribute("class",ak+aO)};var aF=function(aO){return document.getElementById(aN+aO)};var aJ=function(aO){K(aO);au(Q)};var B=function(aO){var aP=ab[aO];if(!aP){aP=d[aO]}if(!aP){aP="Missing message for "+aO}return aP};var A=function(aO){return aO.entityID};var al=function(aQ){var aO;if(null==aQ.Logos){return null}for(aO=0;aO<aQ.Logos.length;aO++){var aP=aQ.Logos[aO];if(aP.height=="16"&&aP.width=="16"){if(null==aP.lang||T==aP.lang||(typeof aC!="undefined"&&aC==aP.lang)||ao==aP.lang){return aP.value}}}return null};var aG=function(aP){var aO=az(aP.DisplayNames);if(null!==aO){return aO}t("No Name entry in any language for "+A(aP));return A(aP)};var J=function(aP){if(ar||null==aP.Keywords){return null}var aO=az(aP.Keywords);return aO};var az=function(aO){var aP;for(aP in aO){if(aO[aP].lang==T){return aO[aP].value}}if(typeof aC!="undefined"){for(aP in aO){if(aO[aP].lang==aC){return aO[aP].value}}}for(aP in aO){if(aO[aP].lang==null){return aO[aP].value}}for(aP in aO){if(aO[aP].lang==ao){return aO[aP].value}}return null};var M=function(){var aS=[];var aR=0;var aQ;var aP;if(null!=E){for(aQ=0;aQ<E.length&&aQ<ah;aQ++){aS[aQ]=ae(E[aQ]);aR++}}Q=b();for(aQ=aR,aP=0;aP<Q.length&&aQ<ah;aP++){var aO=ae(Q[aP]);if(typeof aS.indexOf==="undefined"){aS.push(aO);aQ++}else{if(aS.indexOf(aO)===-1){aS.push(aO);aQ++}}}return aS};var K=function(aO){var aP=[];while(0!==Q.length){var aQ=Q.pop();if(aQ!=aO){aP.unshift(aQ)}}aP.unshift(aO);Q=aP;return};var F=function(aQ){var aO;if(aQ>0){var aP=new Date();cookieTTL=aQ*24*60*60*1000;aO=new Date(aP.getTime()+cookieTTL)}else{aO=new Date(0)}document.cookie=R+"=1;path=/;expires="+aO.toUTCString()+((l===null)?"":l)};var i=function(aQ){var aS,aP;var aT;aT=document.cookie.split(";");for(aS=0;aS<aT.length;aS++){var aR=aT[aS];var aO=aR.indexOf("=");var aU=aR.substring(0,aO);if(aQ==(aU.replace(/^\s+|\s+$/g,""))){return aR.substring(aO+1)}}return null};var b=function(){var aO=[];var aP;var aQ=i("_saml_idp");if(aQ!=null){aQ=aQ.replace(/^\s+|\s+$/g,"");aQ=aQ.replace("+","%20");aQ=aQ.split("%20");for(aP=aQ.length;aP>0;aP--){if(0===aQ[aP-1].length){continue}var aR=aw(decodeURIComponent(aQ[aP-1]));if(aR.length>0){aO.push(aR)}}}return aO};var au=function(aT){var aQ=[];var aS=aT.length;if(ag){return}if(aS>5){aS=5}for(var aR=aS;aR>0;aR--){if(aT[aR-1].length>0){aQ.push(encodeURIComponent(x(aT[aR-1])))}}var aO=null;if(L){var aP=new Date();cookieTTL=L*24*60*60*1000;aO=new Date(aP.getTime()+cookieTTL)}document.cookie="_saml_idp="+aQ.join("%20")+"; path = /"+((aO===null)?"":"; expires="+aO.toUTCString())+((aD===null)?"":aD)};var x=function(aX){var aO="",aS,aQ,aP,aW,aV,aU,aT;for(var aR=0;aR<aX.length;){aS=aX.charCodeAt(aR++);aQ=aX.charCodeAt(aR++);aP=aX.charCodeAt(aR++);aW=aS>>2;aV=((aS&3)<<4)+(aQ>>4);aU=((aQ&15)<<2)+(aP>>6);aT=aP&63;if(isNaN(aQ)){aU=aT=64}else{if(isNaN(aP)){aT=64}}aO+=X.charAt(aW)+X.charAt(aV)+X.charAt(aU)+X.charAt(aT)}return aO};var aw=function(aR){var aP="",aY,aW,aU,aX,aV,aT,aS;var aQ=0;var aO=/[^A-Za-z0-9\+\/\=]/g;aR=aR.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{aX=X.indexOf(aR.charAt(aQ++));aV=X.indexOf(aR.charAt(aQ++));aT=X.indexOf(aR.charAt(aQ++));aS=X.indexOf(aR.charAt(aQ++));aY=(aX<<2)|(aV>>4);aW=((aV&15)<<4)|(aT>>2);aU=((aT&3)<<6)|aS;aP=aP+String.fromCharCode(aY);if(aT!=64){aP=aP+String.fromCharCode(aW)}if(aS!=64){aP=aP+String.fromCharCode(aU)}aY=aW=aU="";aX=aV=aT=aS=""}while(aQ<aR.length);return aP};var af=function(aP){if(aL){var aO=document.createTextNode(aP);aL.appendChild(aO)}else{alert("FATAL (NoDiv):"+aP)}};var P=function(aO){alert("FATAL - DISCO UI:"+aO);if(aL){af(aO)}};var t=function(){}}(new IdPSelectUI()).draw(new IdPSelectUIParms());